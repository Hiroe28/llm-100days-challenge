<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <!-- OGP (Open Graph Protocol) -->
  <meta property="og:title" content="月の満ち欠け3Dシミュレーション" />
  <meta property="og:description" content="太陽・地球・月の位置関係から月の満ち欠けの仕組みを学べる3Dシミュレーション。今日の月齢表示や視点切替、軌道表示など多彩な機能を搭載。" />
  <meta property="og:image" content="https://hiroe28.github.io/llm-100days-challenge/day033-moon-system-3d/screenshot.png" />
  <meta property="og:url" content="https://hiroe28.github.io/llm-100days-challenge/day033-moon-system-3d/index.html" />
  <meta property="og:type" content="website" />

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="月の満ち欠け3Dシミュレーション" />
  <meta name="twitter:description" content="太陽・地球・月の関係を3Dで可視化。宇宙・地球・月の3視点で月相を学べるインタラクティブ教材。" />
  <meta name="twitter:image" content="https://hiroe28.github.io/llm-100days-challenge/day033-moon-system-3d/screenshot.png" />



  <title>月の満ち欠け3Dシミュレーション</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="loading">
    <h2>読み込み中...</h2>
    <div class="loading-bar">
      <div class="loading-progress"></div>
    </div>
  </div>
  
  <div class="title">
    <h1>月の満ち欠け</h1>
    <p>太陽・地球・月の位置関係を学びましょう</p>
  </div>
  
  <div id="canvas-container"></div>
  
  <!-- 月相情報表示・非表示ボタンを削除（コントロールに移動） -->
  
  <!-- 月相情報パネル -->
  <div class="phase-info">
    <div id="phase-name">新月</div>
    <div id="phase-description">
      月が太陽と同じ方向にあり、太陽の光が月の裏側に当たっているため、地球からは月は見えません。
    </div>
  </div>
  
  <!-- メニュー表示/非表示ボタン -->
  <button id="toggle-menu" class="menu-button">▼</button>
  
  <!-- スマホ用メインコントロールバー -->
  <div class="mobile-controls">
    <div class="mobile-tabs">
      <button class="tab-button active" data-tab="controls">操作・視点</button>
      <button class="tab-button" data-tab="phases">月相</button>
    </div>
    
    <!-- 操作・視点タブ -->
    <div class="tab-content active" id="controls-tab">
      <div class="control-options">
        <div class="button-row">
          <button id="play-pause">再生</button>
          <button id="today-position">今日の月</button>
        </div>
        
        <div class="slider-container">
          <span class="slider-label">速度:</span>
          <input type="range" id="speed-slider" min="0.1" max="5" step="0.1" value="1">
          <span id="speed-value">1.0</span>
        </div>
        
        <div class="toggle-row">
          <button id="toggle-orbit">軌道: OFF</button>
          <button id="toggle-info">説明: OFF</button>
          <button id="toggle-bgm">BGM: OFF</button>
        </div>
        
        <div class="view-buttons">
          <button class="view-button" data-view="space">宇宙からの視点</button>
          <button class="view-button active" data-view="earth">地球からの視点</button>
          <!-- <button class="view-button" data-view="moon">月のクローズアップ</button> -->
        </div>
      </div>
    </div>
    
    <!-- 月相タブ -->
    <div class="tab-content" id="phases-tab">
      <div class="phase-buttons">
        <button class="phase-button" data-angle="0">新月</button>
        <button class="phase-button" data-angle="45">三日月</button>
        <button class="phase-button" data-angle="90">上弦の月</button>
        <button class="phase-button" data-angle="135">十三夜月</button>
        <button class="phase-button" data-angle="180">満月</button>
        <button class="phase-button" data-angle="225">十六夜月</button>
        <button class="phase-button" data-angle="270">下弦の月</button>
        <button class="phase-button" data-angle="315">二十六夜月</button>
      </div>
    </div>
  </div>

  <!-- Three.jsライブラリ -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.min.js"></script>
  
  <!-- アプリケーションスクリプト -->
  <script src="moonPhases.js"></script>
  <script src="celestialBodies.js"></script>
  <script src="main.js"></script>

  <!-- BGM要素 -->
  <audio id="background-music" loop>
    <source src="bgm.mp3" type="audio/mp3">
  </audio>

</body>
</html>