# 学習クイズアプリ 使い方ガイド

四択クイズで学習できるアプリです。間隔反復学習（SM-2アルゴリズム）により、効率的に記憶を定着できます。

---

## はじめに

### スマホで使う場合

1. ブラウザでこのページを開く
2. 「ホーム画面に追加」するとアプリのように使えます
   - iPhone: 共有ボタン → 「ホーム画面に追加」
   - Android: メニュー → 「ホーム画面に追加」

### PCとスマホで同じ問題を使う

このアプリはデータをブラウザ内に保存するため、PCとスマホで自動的には同期されません。
以下の方法でデータを移行できます：

1. **PCで問題を作成**
2. **PCで「完全バックアップ (ZIP)」をクリック** → ZIPファイルがダウンロードされる
3. **ZIPファイルをスマホに送る**（メール、クラウドストレージなど）
4. **スマホで「インポート」からZIPファイルを選択**

---

## 画面の説明

下のナビゲーションで画面を切り替えます。

### 解く

クイズに挑戦する画面です。

#### 📊 学習ダッシュボード

画面上部に表示される情報：

- **今日の学習**: 今日復習すべき問題数と新規問題数
- **習得状況**: 
  - **完全習得（90日以上）**: 復習間隔が90日以上の問題
  - **習得済み（7-89日）**: 復習間隔が7〜89日の問題
  - **学習中（1-6日）**: 復習間隔が1〜6日の問題
  - **未学習**: まだ一度も解いたことがない問題

#### 出題モードの選び方

1. **📅 今日の学習**（おすすめ）
   - 復習時期が来た問題と新規問題を自動で出題
   - 効率的に学習を進められます

2. **未解答問題**
   - まだ一度も解いたことがない問題のみ出題

3. **ランダム**
   - すべての問題からランダムに出題

4. **タグ指定**
   - 特定のタグの問題だけを出題

#### クイズの流れ

1. 出題モードを選ぶ
2. 「クイズを開始」をタップ
3. A〜Dから答えを選ぶ
4. 正解・不正解と解説が表示される
5. 「次へ」で次の問題へ

#### ボタンの説明

- **✓ 習得済みにする**: この問題を完全習得済みにして、復習対象から外す
- **スキップ**: 回答せずに次の問題へ
- **次へ**: 次の問題へ進む

**キーボードショートカット（PCの場合）:**
- A/B/C/D: 選択肢を選ぶ
- N: 次の問題へ
- S: スキップ

---

### 管理

問題の追加・編集・削除ができます。

#### 問題を追加する

1. 「+ 問題を追加」をタップ
2. 問題文、選択肢、正解、解説を入力
3. タグを追加（Enter キーで確定）
4. 「保存」をタップ

**ポイント:**
- 問題文と解説には **Markdown** が使えます（太字、箇条書きなど）
- 数式は `$E=mc^2$` のように書くと表示されます
- 画像も添付できます

#### 問題一覧

各問題には以下のボタンがあります：

- **✓ 習得済み**: 問題を習得済みにする（復習対象から外れます）
- **🔄 再学習**: 習得済みの問題を再び学習対象に戻す
- **編集**: 問題を編集
- **削除**: 問題を削除

習得済みにした問題には「✓ 習得済み」のバッジが表示されます。

#### JSON入力モード

「JSON入力」タブに切り替えると、JSONで直接問題を追加できます。
複数問題を一括で追加する場合に便利です。

```json
{
  "title": "問題タイトル",
  "body_md": "問題文",
  "choices": {
    "A": "選択肢A",
    "B": "選択肢B",
    "C": "選択肢C",
    "D": "選択肢D"
  },
  "answer": "A",
  "explanation_md": "解説",
  "tags": ["数学", "公式"]
}
```

複数問題は配列で：
```json
[
  { "title": "問題1", ... },
  { "title": "問題2", ... }
]
```

---

## 間隔反復学習とは？

このアプリは**SM-2アルゴリズム**による間隔反復学習を採用しています。

### 仕組み

1. 問題に正解すると、次回の復習までの間隔が長くなります
   - 1回目正解 → 1日後
   - 2回目正解 → 6日後
   - 3回目正解 → 約15日後
   - 4回目正解 → 約37日後
   - ...

2. 問題に不正解の場合、間隔がリセットされて1日後に復習

3. 復習間隔が90日以上になると「完全習得」状態となり、通常の復習対象から外れます

### 習得状況の見方

- **完全習得（90日以上）**: もう復習しなくても大丈夫な問題
- **習得済み（7-89日）**: だいぶ覚えてきた問題
- **学習中（1-6日）**: まだ覚え始めの問題
- **未学習**: 一度も解いたことがない問題

### 効果的な使い方

1. 毎日「📅 今日の学習」モードで学習する
2. 完全に覚えた問題は「✓ 習得済みにする」で復習対象から外す
3. 久しぶりに復習したい場合は「🔄 再学習」で戻す

---

## データ管理

### 完全バックアップ (ZIP)

すべてのデータ（問題、画像、学習履歴）をZIPファイルに保存します。

- 定期的にバックアップを取ることをおすすめします
- 別のデバイスにデータを移行する場合に使います

### 問題のみエクスポート (JSON)

問題データだけをJSON形式で保存します。

- 他の人と問題を共有する場合に便利
- 学習履歴は含まれません

### インポート

ZIPファイルまたはJSONファイルを読み込みます。

- バックアップからの復元
- 他の人が作った問題の追加
- PCで作った問題をスマホに移行

### サンプルデータ

最初から用意されているサンプル問題を追加します。
アプリの使い方を試すのに便利です。

### 全削除

すべてのデータを削除します。
**この操作は取り消せません。**

---

## よくある質問

### Q: データはどこに保存される？

ブラウザ内（IndexedDB）に保存されます。サーバーには送信されません。

### Q: ブラウザのデータを消したらどうなる？

問題や学習履歴がすべて消えます。定期的にバックアップを取ってください。

### Q: オフラインでも使える？

はい。一度読み込めば、インターネットに接続していなくても使えます。

### Q: PCとスマホでデータを同期したい

自動同期はできません。「完全バックアップ」と「インポート」でデータを移行してください。

### Q: 問題を他の人と共有したい

「問題のみエクスポート (JSON)」でJSONファイルを作成し、相手に送ってください。
相手は「インポート」から読み込めます。

### Q: 完全習得した問題をもう一度復習したい

管理画面で該当の問題の「🔄 再学習」ボタンを押すと、再び学習対象に戻ります。

### Q: 毎日どれくらい学習すればいい？

「📅 今日の学習」モードで表示される問題数が目安です。
復習問題がある場合は優先的に復習し、余裕があれば新規問題に挑戦しましょう。

---

## Markdownの書き方

問題文や解説で使える記法：

| 書き方 | 結果 |
|--------|------|
| `**太字**` | **太字** |
| `*斜体*` | *斜体* |
| `` `コード` `` | `コード` |
| `- 項目` | 箇条書き |
| `1. 項目` | 番号付きリスト |

### 数式

- インライン: `$E = mc^2$` → 文中に数式
- ブロック: `$$\int_0^1 x^2 dx$$` → 独立した数式

---

## 困ったときは

- ブラウザを再読み込みしてみてください
- それでも直らない場合は、ブラウザの開発者ツール（F12）でコンソールを確認してください

