# 学習クイズアプリ 使い方ガイド

四択クイズで学習できるアプリです。自分で問題を登録して、繰り返し学習できます。

---

## はじめに

### スマホで使う場合

1. ブラウザでこのページを開く
2. 「ホーム画面に追加」するとアプリのように使えます
   - iPhone: 共有ボタン → 「ホーム画面に追加」
   - Android: メニュー → 「ホーム画面に追加」

### PCとスマホで同じ問題を使う

このアプリはデータをブラウザ内に保存するため、PCとスマホで自動的には同期されません。
以下の方法でデータを移行できます：

1. **PCで問題を作成**
2. **PCで「バックアップ (ZIP)」をクリック** → ZIPファイルがダウンロードされる
3. **ZIPファイルをスマホに送る**（メール、クラウドストレージなど）
4. **スマホで「インポート」からZIPファイルを選択**

---

## 画面の説明

下のナビゲーションで画面を切り替えます。

### 解く

クイズに挑戦する画面です。

1. **出題モード**を選ぶ
   - **ランダム**: すべての問題からランダムに出題
   - **タグ指定**: 特定のタグの問題だけ出題
   - **復習優先**: 間違えた問題を優先的に出題

2. 「クイズを開始」をタップ

3. A〜Dから答えを選ぶ

4. 正解・不正解と解説が表示される

5. 「次へ」で次の問題へ

**キーボードショートカット（PCの場合）:**
- A/B/C/D: 選択肢を選ぶ
- N: 次の問題へ
- S: スキップ

---

### 復習

間違えた問題の一覧が表示されます。

- **間違いが多い順**: たくさん間違えた問題が上に表示
- **新しく間違えた順**: 最近間違えた問題が上に表示

#### 使い方

1. 「復習を開始」でクイズ形式で復習
2. 納得いくまで繰り返し学習
3. 覚えたら「復習完了」ボタンを押してリストから削除

※ 正解しただけでは消えません。自分で「復習完了」を押すまでリストに残ります。

---

### 管理

問題の追加・編集・削除ができます。

#### 問題を追加する

1. 「+ 問題を追加」をタップ
2. 問題文、選択肢、正解、解説を入力
3. 「保存」をタップ

**ポイント:**
- 問題文と解説には **Markdown** が使えます（太字、箇条書きなど）
- 数式は `$E=mc^2$` のように書くと表示されます
- 画像も添付できます

#### JSON入力モード

「JSON入力」タブに切り替えると、JSONで直接問題を追加できます。
複数問題を一括で追加する場合に便利です。

```json
{
  "title": "問題タイトル",
  "body_md": "問題文",
  "choices": {
    "A": "選択肢A",
    "B": "選択肢B",
    "C": "選択肢C",
    "D": "選択肢D"
  },
  "answer": "A",
  "explanation_md": "解説",
  "tags": ["数学", "公式"]
}
```

複数問題は配列で：
```json
[
  { "title": "問題1", ... },
  { "title": "問題2", ... }
]
```

---

## データ管理

### バックアップ (ZIP)

すべてのデータ（問題、画像、学習履歴）をZIPファイルに保存します。

- 定期的にバックアップを取ることをおすすめします
- 別のデバイスにデータを移行する場合に使います

### 問題をエクスポート (JSON)

問題データだけをJSON形式で保存します。

- 他の人と問題を共有する場合に便利
- 学習履歴は含まれません

### インポート

ZIPファイルまたはJSONファイルを読み込みます。

- バックアップからの復元
- 他の人が作った問題の追加
- PCで作った問題をスマホに移行

### サンプルデータ

最初から用意されているサンプル問題を追加します。
アプリの使い方を試すのに便利です。

### 全削除

すべてのデータを削除します。
**この操作は取り消せません。**

---

## よくある質問

### Q: データはどこに保存される？

ブラウザ内（IndexedDB）に保存されます。サーバーには送信されません。

### Q: ブラウザのデータを消したらどうなる？

問題や学習履歴がすべて消えます。定期的にバックアップを取ってください。

### Q: オフラインでも使える？

はい。一度読み込めば、インターネットに接続していなくても使えます。

### Q: PCとスマホでデータを同期したい

自動同期はできません。「バックアップ」と「インポート」でデータを移行してください。

### Q: 問題を他の人と共有したい

「問題をエクスポート (JSON)」でJSONファイルを作成し、相手に送ってください。
相手は「インポート」から読み込めます。

---

## Markdownの書き方

問題文や解説で使える記法：

| 書き方 | 結果 |
|--------|------|
| `**太字**` | **太字** |
| `*斜体*` | *斜体* |
| `` `コード` `` | `コード` |
| `- 項目` | 箇条書き |
| `1. 項目` | 番号付きリスト |

### 数式

- インライン: `$E = mc^2$` → 文中に数式
- ブロック: `$$\int_0^1 x^2 dx$$` → 独立した数式

---

## 困ったときは

- ブラウザを再読み込みしてみてください
- それでも直らない場合は、ブラウザの開発者ツール（F12）でコンソールを確認してください
