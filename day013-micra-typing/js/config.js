/**
 * ゲーム設定と定数を管理するモジュール
 */

// ゲーム設定
export const GAME_CONFIG = {
    // 基本設定
    spawnInterval: 3000,      // 黒い人の出現間隔（ミリ秒）
    moveSpeed: 0.03,          // 黒い人の移動速度
    maxEnemies: 3,            // 画面上の最大エネミー数
    startZ: -35,              // 黒い人の開始Z座標（近めに調整）
    endZ: 10,                 // 黒い人がプレイヤーに到達したとみなすZ座標
    lives: 3,                 // プレイヤーの初期ライフ数
    
  // 単語リスト
  wordListEasy: [
    // 英語の単語
    "bee", "axe", "mud", "log", "map", "bed", "sun", "cow", "pig", "cat",
    "bat", "egg", "fox", "hay", "sky", "dog", "run", "dig", "sit", "hit",
    "fish", "tree", "snow", "book", "milk", "cake", "wood", "leaf", "path", "tool",

    "ねこ", "いぬ", "ぶた", "とり", "さる", "くま", "うま", "かに", "あり",
    "やま", "そら", "うみ", "はな", "くも", "あめ", "ゆき", "ほし", "つき",
    "ひる", "よる", "もり", "いし", "きり", "みず", "ひと", "てら", "はえ",
    "たま", "つな", "まど", "やね", "もも", "かぜ", "うた", "はこ", "けむり",
    "ひかり", "つばさ", "のはら", "くさ", "たに", "かど", "そと", "なか", "ゆめ",
    "あさ", "ばん", "いえ", "まど", "はし", "こえ", "かお", "ひと", "いろ",
    "みみ", "てぶくろ", "のこぎり", "とんかち", "くぎ", "つち", "たね",
    "いと", "くつ", "ふく", "おに", "にく", "つり", "さかな", "こめ", "まめ",
    "めだま", "あしあと", "しろ", "くろ", "あお", "きいろ", "ちゃいろ",
    "ほね", "かみ", "くつした", "とけい", "おかし", "いしころ", "たき", "まつぼっくり", "かがみ",
    "あし", "くび", "みずたまり", "つきよ", "ほしぞら", "ひこうきぐも", "まつのき", "ひので",
    "ゆうひ", "ひぐれ", "あさやけ", "よあけ", "せみ", "こおろぎ", "かたつむり", "あめあがり"

  ],
  wordListNormal: [
    // 英語の単語
    "creeper", "zombie", "spider", "mining", "nether", "torch", "bucket",
    "villager", "saddle", "trident", "portal", "sneak", "health", "bow",
    "arrow", "shield", "update", "cobblestone", "diamond", "potion", "hunger",
    "glowstone", "minecart", "railroad", "armor", "beehive", "campfire",
    "smelter", "grindstone", "lantern", "shulker", "fishingrod", "crafttable",

    "むらびと", "まいごのぶた", "ちかのたから", "もりのどうくつ", "まよいのもり",
    "とつぜんのあめ", "うわきするすてぃーぶ", "やねのうえのねこ", "やきいもたいかい",
    "たんけんたいしゅっぱつ", "うまにのったにんぎょう", "そらをとぶいぬ",
    "おとまりかいでねむれない", "いしのつるはし", "まっくらなよる", "ゆきのせかい",
    "ちいさなみせ", "かわをわたる", "くらやみのなか", "とおくのひかり", "しろいくも",
    "ひみつのもり", "くらやみのたに", "あかるいひざし", "そらとぶにわとり",
    "いしのたて", "まほうのかがみ", "ふしぎなどうくつ", "おちてきたりんご",
    "ねているぞんび", "ゆめのしま", "きょじんのどうぞう", "おおきなかいものぶくろ",
    "いしのどうくつたんけん", "なぞのとびら", "もりのせんにん", "すなのおしろ",
    "えんとつからけむり", "くさのなかのたから", "おおごえでさけぶ", "おちばのうえ",
    "ひのうえでおどるぶた", "ねこのかおをしたいわ", "たきのうえのちぇすと", "ぞんびにおいかけられるゆめ",
    "きのうえのひつじ", "ねざーからでられない", "まっくらなちていこ", "つきにとどいたとろっこ",
    "とつぜんあらわれたたからばこ", "かべのなかのどあ", "ぴらみっどのしたのひみつ", "せんすいふくをわすれたひ",
    "くもにのったすてぃーぶ", "つちのなかのほのお", "ちずにのっていないしま", "ねこがはこにはいってねてる",
    "いわのなかからこえがする", "しろいいぬのたいけつ", "つちのなかのすいしょう", "うみのそこのたからもの"
  ],
  wordListHard: [
    // 英語の単語
    "netherite", "obsidian", "skeleton", "furnace", "enchantment", "respawn",
    "brewingstand", "commandblock", "achievement", "dragonfight", "explosion",
    "multiplayer", "coordinates", "autojump", "villagertrade", "creativebuild",
    "undergroundbase", "mysteriousportal", "adventurereturns", "creeperambush",
  

    "ばくはつするくりーぱー", "ねざーでりすぽーん", "えんだーまんがにらんだ",
    "とつぜんのすけるとん", "ねこがちぇすとをせんりょう", "とろっこでぐるぐる",
    "たからばこのなかみがじゃがいも", "ちょうおんぱでふっとばす", "すなにうもれたぞんび",
    "てんじょうからあいあんごーれむ", "くりーぱーのどっきりさくせん",
    "しゅるかーにうかされてつきへ", "えんちゃんとしたつるはし", "まっくらなどうくつたんけん",
    "くりーぱーのばくはつげい", "えんだーどらごんのちょうてんけっせん",
    "まいくらあるあるたいかい", "ぶたがうまにのったひ", "むらびとのむすこがにげた",
    "きんぞくのとびらをこえる", "あついねざーでまっくらたんけん", "さばいばるでいきのこる",
    "けいじばんのひみつ", "てんくうのしまのぼうけん", "そらからおちてきたおにぎり",
    "ねざーのゆかにあながある", "しゅるかーのうきうきまほう", "ほのおのたにでかちぬく",
    "うっかりちぇすとぜんろす", "えんちゃんとつるはしでせいこう", "とびらをあけたらばくだん",
    "まじょのいえでおちゃかい", "くうちゅうとろっこれーす", "やまのてっぺんでぴくにっく",
    "ちいさなどうくつのなかのおおきなたから", "ぽーしょんをぜんぶのんだらすけすけになった",
    "ふしぎなどうぶつがいけのうえをあるいていた", "どこからともなくくりーぱーのうたごえがきこえる",
    "よぞらにうかぶしろいとりとくろいぶた", "あおいけむりのなかでむらびとがまいをおどってる",
    "たかいところからとびおりたらまくらだった", "あさになったらすべてがじゃがいもになっていた",
    "こっそりくりーぱーがぱーてぃをひらいていた", "しんぴてきなどあがとつぜんひらいた",
    "ほのおのいけのなかにひつじがすんでいる", "とけいがぐるぐるまわってじかんがさかのぼった",
    "えんどらのせなかでらーめんをたべるすてぃーぶ", "とつぜんてんじょうからおちてきたかぼちゃ",
    "くうきちゅうでえんちゃんとしてるとろっこ", "とびらをひらいたらそこはえんどのまんなかだった"
  ]
  };
  
// config.jsの修正 - HIRAGANA_TO_ROMAJIマップを修正

// ローマ字変換マップ
export const HIRAGANA_TO_ROMAJI = {
    'あ': ['a'], 'い': ['i'], 'う': ['u', 'wu'], 'え': ['e'], 'お': ['o'],
    'か': ['ka'], 'き': ['ki'], 'く': ['ku'], 'け': ['ke'], 'こ': ['ko'],
    'さ': ['sa'], 'し': ['shi', 'si'], 'す': ['su'], 'せ': ['se'], 'そ': ['so'],
    'た': ['ta'], 'ち': ['chi', 'ti'], 'つ': ['tsu', 'tu'], 'て': ['te'], 'と': ['to'],
    'な': ['na'], 'に': ['ni'], 'ぬ': ['nu'], 'ね': ['ne'], 'の': ['no'],
    'は': ['ha'], 'ひ': ['hi'], 'ふ': ['fu', 'hu'], 'へ': ['he'], 'ほ': ['ho'],
    'ま': ['ma'], 'み': ['mi'], 'む': ['mu'], 'め': ['me'], 'も': ['mo'],
    'や': ['ya'], 'ゆ': ['yu'], 'よ': ['yo'],
    'ら': ['ra'], 'り': ['ri'], 'る': ['ru'], 'れ': ['re'], 'ろ': ['ro'],
    'わ': ['wa'], 'を': ['wo', 'o'], 
    'ん': ['n', 'nn'], // 「ん」は「n」でも「nn」でも入力可能に変更
    'が': ['ga'], 'ぎ': ['gi'], 'ぐ': ['gu'], 'げ': ['ge'], 'ご': ['go'],
    'ざ': ['za'], 'じ': ['ji', 'zi'], 'ず': ['zu'], 'ぜ': ['ze'], 'ぞ': ['zo'],
    'だ': ['da'], 'ぢ': ['ji', 'di'], 'づ': ['zu', 'du'], 'で': ['de'], 'ど': ['do'],
    'ば': ['ba'], 'び': ['bi'], 'ぶ': ['bu'], 'べ': ['be'], 'ぼ': ['bo'],
    'ぱ': ['pa'], 'ぴ': ['pi'], 'ぷ': ['pu'], 'ぺ': ['pe'], 'ぽ': ['po'],
    'ゃ': ['ya'], 'ゅ': ['yu'], 'ょ': ['yo'],
    'っ': ['ltsu', 'xtsu', 'ltu', 'xtu', 'xtsu', 'ltu'] // 小さいっは特別扱い
  };
  

  
  // 複合ひらがなのローマ字変換（拗音を含む）
  export const COMPOUND_HIRAGANA = {
    // 基本的な拗音
    'きゃ': ['kya'], 'きゅ': ['kyu'], 'きょ': ['kyo'],
    'しゃ': ['sha', 'sya'], 'しゅ': ['shu', 'syu'], 'しょ': ['sho', 'syo'],
    'ちゃ': ['cha', 'tya'], 'ちゅ': ['chu', 'tyu'], 'ちょ': ['cho', 'tyo'],
    'にゃ': ['nya'], 'にゅ': ['nyu'], 'にょ': ['nyo'],
    'ひゃ': ['hya'], 'ひゅ': ['hyu'], 'ひょ': ['hyo'],
    'みゃ': ['mya'], 'みゅ': ['myu'], 'みょ': ['myo'],
    'りゃ': ['rya'], 'りゅ': ['ryu'], 'りょ': ['ryo'],
    'ぎゃ': ['gya'], 'ぎゅ': ['gyu'], 'ぎょ': ['gyo'],
    'じゃ': ['ja', 'zya'], 'じゅ': ['ju', 'zyu'], 'じょ': ['jo', 'zyo'],
    'びゃ': ['bya'], 'びゅ': ['byu'], 'びょ': ['byo'],
    'ぴゃ': ['pya'], 'ぴゅ': ['pyu'], 'ぴょ': ['pyo'],
    
    // 拡張拗音（イェ、シェ、チェなど）
    'いぇ': ['ye', 'ie'],
    'うぃ': ['wi'], 'うぇ': ['we'], 'うぉ': ['wo'],
    'きぇ': ['kye'],
    'しぇ': ['she', 'sye'],
    'ちぇ': ['che', 'tye', 'cye'],
    'にぇ': ['nye'],
    'ひぇ': ['hye'],
    'みぇ': ['mye'],
    'りぇ': ['rye'],
    'ぎぇ': ['gye'],
    'じぇ': ['je', 'zye'],
    'びぇ': ['bye'],
    'ぴぇ': ['pye'],
    
    // 特殊拗音
    'つぁ': ['tsa'], 'つぃ': ['tsi'], 'つぇ': ['tse'], 'つぉ': ['tso']
  };
  
  // 複合変換ルール - 拗音、長音、促音の処理に使用
  export const ROMAJI_CONVERSION_RULES = {
    // 長音「う」は省略可能（ou→o, uu→u など）
    'longVowelRule': true,
    // 「っ」は子音の重複または直接表記として扱う（kka→ka など）
    'sokuonRule': true,
    // 拗音は複数の表記方法を許容（しゃ→sha/sya など）
    'yoonVariations': true,
    // 入力の正規化レベル（0:厳格、1:通常、2:寛容）
    'normalizationLevel': 2
  };
  

  
  // 初期ゲーム状態
  export const initialGameState = {
    isRunning: false,          // ゲーム実行中かどうか
    score: 0,                  // スコア
    level: 1,                  // レベル
    lives: GAME_CONFIG.lives,  // 残りライフ
    enemies: [],               // 敵リスト
    currentTypingEnemy: null,  // 現在タイピング中の敵
    typedText: '',             // 入力済みテキスト
    difficultyMultiplier: 1,   // 難易度倍率
    wordList: [],              // 現在使用中の単語リスト
    difficulty: 'normal',      // 選択された難易度
    gameMode: 'hiragana'       // 選択されたモード (english/hiragana)
  };
  
  // ローマ字入力関連の初期状態
  export const initialRomajiState = {
    targetWord: '',        // ひらがなの単語
    romajiWord: '',        // メインのローマ字変換
    alternativeInputs: [], // 代替入力パターン配列
    typedRomaji: '',       // 入力済みローマ字
    typedHiragana: '',     // 入力済みひらがな
    usingPattern: ''       // 現在使用中のパターン
  };